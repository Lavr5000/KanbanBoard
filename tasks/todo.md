# –ü–ª–∞–Ω —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏: AI Roadmap Generation

**–î–∞—Ç–∞:** 2025-01-01
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–æ

## –û–ø–∏—Å–∞–Ω–∏–µ

–î–æ–±–∞–≤–∏—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –¥–æ—Ä–æ–∂–Ω–æ–π –∫–∞—Ä—Ç—ã —á–µ—Ä–µ–∑ –¥–∏–∞–ª–æ–≥ —Å AI. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ–∑–≤—É—á–∏–≤–∞–µ—Ç –∏–¥–µ—é, AI –∑–∞–¥–∞—ë—Ç —É—Ç–æ—á–Ω—è—é—â–∏–µ –≤–æ–ø—Ä–æ—Å—ã —Å –≤–∞—Ä–∏–∞–Ω—Ç–∞–º–∏ –æ—Ç–≤–µ—Ç–æ–≤, –≤ –∏—Ç–æ–≥–µ —Å–æ–∑–¥–∞—ë—Ç—Å—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–∞—è roadmap —Å –Ω—É–º–µ—Ä–æ–≤–∞–Ω–Ω—ã–º —Å–ø–∏—Å–∫–æ–º –∑–∞–¥–∞—á. –ó–∞—Ç–µ–º –º–æ–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å –ø–µ—Ä–≤—ã–µ 5 –∑–∞–¥–∞—á –æ–¥–Ω–æ–π –∫–Ω–æ–ø–∫–æ–π.

**–î–∏–∑–∞–π–Ω –¥–æ–∫—É–º–µ–Ω—Ç:** [docs/plans/2025-01-01-ai-roadmap-generation-design.md](../docs/plans/2025-01-01-ai-roadmap-generation-design.md)

---

## Todo Items

### –§–∞–∑–∞ 1: –ë–∞–∑–æ–≤–∞—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞

- [x] –°–æ–∑–¥–∞—Ç—å API endpoint `/api/ai/roadmap`
  - –§–∞–π–ª: `src/app/api/ai/roadmap/route.ts`
  - –ü—Ä–∏–Ω–∏–º–∞–µ—Ç `{ messages: Array<{role, content}> }`
  - –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç `{ content: string }`

- [x] –î–æ–±–∞–≤–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏—é `generateRoadmapChat()` –≤ `src/lib/deepseek.ts`
  - System prompt –¥–ª—è roadmap generation
  - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –¥–∏–∞–ª–æ–≥–æ–≤–æ–π –∏—Å—Ç–æ—Ä–∏–∏
  - –¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ 0.8 –¥–ª—è –∫—Ä–µ–∞—Ç–∏–≤–Ω–æ—Å—Ç–∏

- [x] –°–æ–∑–¥–∞—Ç—å —Ö—É–∫ `useRoadmapAI` –≤ `src/features/roadmap/hooks/useRoadmapAI.ts`
  - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º –¥–∏–∞–ª–æ–≥–∞
  - –û—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π –≤ API
  - –ü–∞—Ä—Å–∏–Ω–≥ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ –æ—Ç–≤–µ—Ç–æ–≤ (—Ñ–æ—Ä–º–∞—Ç `–í–ê–†–ò–ê–ù–¢–´: [–æ–ø—Ü–∏—è1, –æ–ø—Ü–∏—è2]`)
  - –ú–µ—Ç–æ–¥ `getFinalRoadmap()` –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞

### –§–∞–∑–∞ 2: UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

- [x] –°–æ–∑–¥–∞—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç `RoadmapAIChat` –≤ `src/features/roadmap/ui/RoadmapAIChat.tsx`
  - –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Å —á–∞—Ç–æ–º
  - –°–ø–∏—Å–æ–∫ —Å–æ–æ–±—â–µ–Ω–∏–π (AI + –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å)
  - –ö–Ω–æ–ø–∫–∏ —Å –≤–∞—Ä–∏–∞–Ω—Ç–∞–º–∏ –æ—Ç–≤–µ—Ç–æ–≤
  - –ü–æ–ª–µ –≤–≤–æ–¥–∞ –¥–ª—è —Å–≤–æ–µ–≥–æ –æ—Ç–≤–µ—Ç–∞
  - –ö–Ω–æ–ø–∫–∏ "–ü—Ä–∏–º–µ–Ω–∏—Ç—å" –∏ "–û—Ç–º–µ–Ω–∞"
  - Toast —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
  - –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

- [x] –°–æ–∑–¥–∞—Ç—å —Å—Ç–∏–ª–∏ –¥–ª—è —á–∞—Ç–∞ –≤ `src/features/roadmap/ui/RoadmapAIChat.module.css`
  - –ê–Ω–∏–º–∞—Ü–∏–∏ –ø–æ—è–≤–ª–µ–Ω–∏—è
  - –°–æ–æ–±—â–µ–Ω–∏—è AI (—Å–ª–µ–≤–∞) –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (—Å–ø—Ä–∞–≤–∞)
  - –ö–Ω–æ–ø–∫–∏ —Å –≤–∞—Ä–∏–∞–Ω—Ç–∞–º–∏
  - Toast —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

- [x] –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å AI —á–∞—Ç –≤ `RoadmapPanel.tsx`
  - –î–æ–±–∞–≤–∏—Ç—å –∫–Ω–æ–ø–∫—É "AI" —Å –∏–∫–æ–Ω–∫–æ–π Sparkles –≤ header
  - –î–æ–±–∞–≤–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ `isAIChatOpen`
  - –†–µ–Ω–¥–µ—Ä–∏—Ç—å `RoadmapAIChat` –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏
  - –ü–µ—Ä–µ–¥–∞—Ç—å `onApply` callback –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è content

### –§–∞–∑–∞ 3: –ü–∞—Ä—Å–∏–Ω–≥ –∏ —Å–æ–∑–¥–∞–Ω–∏–µ –∑–∞–¥–∞—á

- [x] –°–æ–∑–¥–∞—Ç—å `src/features/roadmap/lib/parser.ts`
  - –§—É–Ω–∫—Ü–∏—è `isAIGenerated(content)` ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ –º–∞—Ä–∫–µ—Ä–∞
  - –§—É–Ω–∫—Ü–∏—è `parseRoadmapTasks(content)` ‚Äî –ø–∞—Ä—Å–∏–Ω–≥ –Ω—É–º–µ—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ —Å–ø–∏—Å–∫–∞
  - –§–æ—Ä–º–∞—Ç: "1. –¢–µ–∫—Å—Ç", "2. –¢–µ–∫—Å—Ç" –∏ —Ç.–¥.
  - –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç `Array<{ number, title, lineNumber }>`

- [x] –°–æ–∑–¥–∞—Ç—å `src/features/roadmap/lib/task-creator.ts`
  - –§—É–Ω–∫—Ü–∏—è `createTasksFromRoadmap(boardId, tasks, maxTasks)`
  - –ü–æ–∏—Å–∫ –∫–æ–ª–æ–Ω–∫–∏ "–ù–æ–≤—ã–µ –∑–∞–¥–∞—á–∏" (–∏–ª–∏ –ø–µ—Ä–≤–æ–π –∫–æ–ª–æ–Ω–∫–∏)
  - –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–¥–∞—á –≤ Supabase
  - –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç `{ success, created, errors }`

- [x] –î–æ–±–∞–≤–∏—Ç—å –∫–Ω–æ–ø–∫—É "–°–æ–∑–¥–∞—Ç—å –∑–∞–¥–∞—á–∏" –≤ `RoadmapPanel.tsx`
  - –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ `isAIGenerated` –∏ –µ—Å—Ç—å –∑–∞–¥–∞—á–∏
  - –¢–µ–∫—Å—Ç: "–°–æ–∑–¥–∞—Ç—å N –∑–∞–¥–∞—á" (–º–∞–∫—Å–∏–º—É–º 5)
  - –ü—Ä–∏ –∫–ª–∏–∫–µ ‚Äî –≤—ã–∑–æ–≤ `createTasksFromRoadmap`
  - –ü–æ–∫–∞–∑–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç —á–µ—Ä–µ–∑ toast

### –§–∞–∑–∞ 4: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –ø–æ–ª–∏—Ä–æ–≤–∫–∞

- [x] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ–ª–Ω—ã–π flow
  1. –û—Ç–∫—Ä—ã—Ç—å RoadmapPanel
  2. –ù–∞–∂–∞—Ç—å –∫–Ω–æ–ø–∫—É "AI"
  3. –í–≤–µ—Å—Ç–∏ –∏–¥–µ—é –ø—Ä–æ–µ–∫—Ç–∞
  4. –û—Ç–≤–µ—Ç–∏—Ç—å –Ω–∞ 3-5 –≤–æ–ø—Ä–æ—Å–æ–≤ AI
  5. –ü–æ–ª—É—á–∏—Ç—å —Ñ–∏–Ω–∞–ª—å–Ω—É—é roadmap
  6. –ù–∞–∂–∞—Ç—å "–ü—Ä–∏–º–µ–Ω–∏—Ç—å"
  7. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ roadmap –ø–æ—è–≤–∏–ª–∞—Å—å –≤ textarea
  8. –ù–∞–∂–∞—Ç—å "–°–æ–∑–¥–∞—Ç—å –∑–∞–¥–∞—á–∏"
  9. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –∑–∞–¥–∞—á–∏ —Å–æ–∑–¥–∞–ª–∏—Å—å –≤ –∫–æ–ª–æ–Ω–∫–µ

- [x] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å edge cases
  - –ü—É—Å—Ç–æ–π –æ—Ç–≤–µ—Ç –æ—Ç AI
  - –ù–µ—Ç –∫–æ–ª–æ–Ω–∫–∏ "–ù–æ–≤—ã–µ –∑–∞–¥–∞—á–∏"
  - –ù–µ–≤–∞–ª–∏–¥–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –∑–∞–¥–∞—á
  - API rate limits
  - –†—É—á–Ω–æ–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ AI-roadmap

- [x] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å TypeScript –∫–æ–º–ø–∏–ª—è—Ü–∏—é
  - –£–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ –Ω–µ—Ç –æ—à–∏–±–æ–∫ —Ç–∏–ø–æ–≤
  - –í—Å–µ –∏–º–ø–æ—Ä—Ç—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã

- [x] –ù–∞–ø–∏—Å–∞—Ç—å review section –≤ —ç—Ç–æ–º —Ñ–∞–π–ª–µ

---

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤

### –ù–æ–≤—ã–µ —Ñ–∞–π–ª—ã:

```
src/
‚îú‚îÄ‚îÄ app/api/ai/roadmap/
‚îÇ   ‚îî‚îÄ‚îÄ route.ts                          # API endpoint
‚îú‚îÄ‚îÄ features/roadmap/
‚îÇ   ‚îú‚îÄ‚îÄ hooks/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ useRoadmapAI.ts               # AI chat hook
‚îÇ   ‚îú‚îÄ‚îÄ lib/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ parser.ts                     # Parse tasks from roadmap
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ task-creator.ts               # Create tasks in DB
‚îÇ   ‚îî‚îÄ‚îÄ ui/
‚îÇ       ‚îú‚îÄ‚îÄ RoadmapAIChat.tsx             # Chat modal component
‚îÇ       ‚îî‚îÄ‚îÄ RoadmapAIChat.module.css      # Chat styles
‚îî‚îÄ‚îÄ lib/
    ‚îî‚îÄ‚îÄ deepseek.ts                       # Add generateRoadmapChat()
```

### –ò–∑–º–µ–Ω—è–µ–º—ã–µ —Ñ–∞–π–ª—ã:

```
src/features/roadmap/ui/RoadmapPanel.tsx  # Add AI button & integration
```

---

## –ö—Ä–∏—Ç–µ—Ä–∏–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è

1. ‚úÖ AI —á–∞—Ç –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –ø–æ –∫–Ω–æ–ø–∫–µ –≤ RoadmapPanel
2. ‚úÖ AI –∑–∞–¥–∞—ë—Ç –≤–æ–ø—Ä–æ—Å—ã —Å –≤–∞—Ä–∏–∞–Ω—Ç–∞–º–∏ –æ—Ç–≤–µ—Ç–æ–≤
3. ‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –≤—ã–±—Ä–∞—Ç—å –≤–∞—Ä–∏–∞–Ω—Ç –∏–ª–∏ –≤–≤–µ—Å—Ç–∏ —Å–≤–æ–π –æ—Ç–≤–µ—Ç
4. ‚úÖ –ü–æ—Å–ª–µ 3-5 –∏—Ç–µ—Ä–∞—Ü–∏–π AI –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Ñ–∏–Ω–∞–ª—å–Ω—É—é roadmap
5. ‚úÖ Roadmap —Å–æ–¥–µ—Ä–∂–∏—Ç –º–∞—Ä–∫–µ—Ä `<!-- AI_GENERATED -->`
6. ‚úÖ Roadmap —Å–æ–¥–µ—Ä–∂–∏—Ç –Ω—É–º–µ—Ä–æ–≤–∞–Ω–Ω—ã–π —Å–ø–∏—Å–æ–∫ –∑–∞–¥–∞—á
7. ‚úÖ –ö–Ω–æ–ø–∫–∞ "–°–æ–∑–¥–∞—Ç—å –∑–∞–¥–∞—á–∏" –ø–æ—è–≤–ª—è–µ—Ç—Å—è –¥–ª—è AI-roadmap
8. ‚úÖ –ü—Ä–∏ –∫–ª–∏–∫–µ —Å–æ–∑–¥–∞—é—Ç—Å—è –ø–µ—Ä–≤—ã–µ 5 –∑–∞–¥–∞—á –≤ –∫–æ–ª–æ–Ω–∫–µ
9. ‚úÖ TypeScript –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫
10. ‚úÖ –í—Å–µ edge cases –æ–±—Ä–∞–±–æ—Ç–∞–Ω—ã

---

## Review Section

### ‚úÖ –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞!

**–ß—Ç–æ –±—ã–ª–æ —Å–æ–∑–¥–∞–Ω–æ:**

#### –ù–æ–≤—ã–µ —Ñ–∞–π–ª—ã (6 —Ñ–∞–π–ª–æ–≤):

1. **`src/app/api/ai/roadmap/route.ts`** - API endpoint –¥–ª—è AI roadmap
   - POST `/api/ai/roadmap`
   - –ü—Ä–∏–Ω–∏–º–∞–µ—Ç –º–∞—Å—Å–∏–≤ —Å–æ–æ–±—â–µ–Ω–∏–π –¥–ª—è –¥–∏–∞–ª–æ–≥–∞
   - –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ—Ç–≤–µ—Ç –æ—Ç DeepSeek API

2. **`src/lib/deepseek.ts`** (–¥–æ–ø–æ–ª–Ω–µ–Ω)
   - –î–æ–±–∞–≤–ª–µ–Ω –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å `RoadmapChatMessage`
   - –î–æ–±–∞–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `generateRoadmapChat()`
   - System prompt –¥–ª—è roadmap generation —Å –ø—Ä–∞–≤–∏–ª–∞–º–∏ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

3. **`src/features/roadmap/hooks/useRoadmapAI.ts`** - –•—É–∫ –¥–ª—è AI —á–∞—Ç–∞
   - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º –¥–∏–∞–ª–æ–≥–∞
   - –ü–∞—Ä—Å–∏–Ω–≥ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ –æ—Ç–≤–µ—Ç–æ–≤ –∏–∑ —Ñ–æ—Ä–º–∞—Ç–∞ `–í–ê–†–ò–ê–ù–¢–´: [–æ–ø—Ü–∏—è1, –æ–ø—Ü–∏—è2]`
   - –ú–µ—Ç–æ–¥—ã: `sendMessage`, `startSession`, `reset`, `getFinalRoadmap`

4. **`src/features/roadmap/ui/RoadmapAIChat.tsx`** - –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –º–æ–¥–∞–ª—å–Ω–æ–≥–æ —á–∞—Ç–∞
   - –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Å —á–∞—Ç–æ–º –∫–∞–∫ –≤ Claude Code
   - –°–æ–æ–±—â–µ–Ω–∏—è AI —Å–ª–µ–≤–∞, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å–ø—Ä–∞–≤–∞
   - –ö–Ω–æ–ø–∫–∏ —Å –≤–∞—Ä–∏–∞–Ω—Ç–∞–º–∏ –æ—Ç–≤–µ—Ç–æ–≤
   - Toast —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
   - –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ API

5. **`src/features/roadmap/ui/RoadmapAIChat.module.css`** - –°—Ç–∏–ª–∏ —á–∞—Ç–∞
   - –ê–Ω–∏–º–∞—Ü–∏–∏ –ø–æ—è–≤–ª–µ–Ω–∏—è (fadeIn, slideUp)
   - –†–∞–∑–Ω—ã–µ —Å—Ç–∏–ª–∏ –¥–ª—è AI –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö —Å–æ–æ–±—â–µ–Ω–∏–π
   - Hover —ç—Ñ—Ñ–µ–∫—Ç—ã –¥–ª—è –∫–Ω–æ–ø–æ–∫
   - Toast —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

6. **`src/features/roadmap/lib/parser.ts`** - –ü–∞—Ä—Å–µ—Ä roadmap
   - `isAIGenerated()` ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ –º–∞—Ä–∫–µ—Ä–∞ `<!-- AI_GENERATED -->`
   - `parseRoadmapTasks()` ‚Äî –ø–∞—Ä—Å–∏–Ω–≥ –Ω—É–º–µ—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ —Å–ø–∏—Å–∫–∞ –∑–∞–¥–∞—á
   - –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç `Array<{ number, title, lineNumber }>`

7. **`src/features/roadmap/lib/task-creator.ts`** - –°–æ–∑–¥–∞—Ç–µ–ª—å –∑–∞–¥–∞—á
   - `createTasksFromRoadmap()` ‚Äî —Å–æ–∑–¥–∞–Ω–∏–µ –∑–∞–¥–∞—á –≤ Supabase
   - –ü–æ–∏—Å–∫ –∫–æ–ª–æ–Ω–∫–∏ "–ù–æ–≤—ã–µ –∑–∞–¥–∞—á–∏" –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–µ—Ä–≤–æ–π
   - –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç `{ success, created, errors }`

#### –ò–∑–º–µ–Ω—ë–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã (1 —Ñ–∞–π–ª):

8. **`src/features/roadmap/ui/RoadmapPanel.tsx`**
   - –î–æ–±–∞–≤–ª–µ–Ω–∞ –∫–Ω–æ–ø–∫–∞ AI —Å –≥—Ä–∞–¥–∏–µ–Ω—Ç–æ–º –∏ –∏–∫–æ–Ω–∫–æ–π Sparkles
   - –î–æ–±–∞–≤–ª–µ–Ω–æ —Å–æ—Å—Ç–æ—è–Ω–∏–µ `isAIChatOpen`
   - –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω –∫–æ–º–ø–æ–Ω–µ–Ω—Ç `RoadmapAIChat`
   - –î–æ–±–∞–≤–ª–µ–Ω–∞ –∫–Ω–æ–ø–∫–∞ "–°–æ–∑–¥–∞—Ç—å N –∑–∞–¥–∞—á" –¥–ª—è AI-roadmap
   - –î–æ–±–∞–≤–ª–µ–Ω—ã toast —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ —Å–æ–∑–¥–∞–Ω–∏–∏ –∑–∞–¥–∞—á

### üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ FSD:

```
src/
‚îú‚îÄ‚îÄ app/
‚îÇ   ‚îî‚îÄ‚îÄ api/
‚îÇ       ‚îî‚îÄ‚îÄ ai/
‚îÇ           ‚îî‚îÄ‚îÄ roadmap/
‚îÇ               ‚îî‚îÄ‚îÄ route.ts              # API layer
‚îú‚îÄ‚îÄ features/
‚îÇ   ‚îî‚îÄ‚îÄ roadmap/
‚îÇ       ‚îú‚îÄ‚îÄ hooks/
‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ useRoadmapAI.ts           # State management
‚îÇ       ‚îú‚îÄ‚îÄ lib/
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ parser.ts                 # Business logic
‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ task-creator.ts           # Business logic
‚îÇ       ‚îî‚îÄ‚îÄ ui/
‚îÇ           ‚îú‚îÄ‚îÄ RoadmapPanel.tsx          # UI component (modified)
‚îÇ           ‚îú‚îÄ‚îÄ RoadmapAIChat.tsx         # UI component (new)
‚îÇ           ‚îî‚îÄ‚îÄ RoadmapAIChat.module.css  # Styles (new)
‚îî‚îÄ‚îÄ lib/
    ‚îî‚îÄ‚îÄ deepseek.ts                       # Shared library (extended)
```

### üéØ –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:

**Flow –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ roadmap:**
```
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–∂–∏–º–∞–µ—Ç –∫–Ω–æ–ø–∫—É ‚ú® AI –≤ RoadmapPanel
2. –û—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ RoadmapAIChat
3. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–≤–æ–¥–∏—Ç –∏–¥–µ—é –ø—Ä–æ–µ–∫—Ç–∞
4. AI –æ—Ç–≤–µ—á–∞–µ—Ç –≤–æ–ø—Ä–æ—Å–æ–º + –≤–∞—Ä–∏–∞–Ω—Ç—ã (–í–ê–†–ò–ê–ù–¢–´: [–æ–ø—Ü–∏—è1, –æ–ø—Ü–∏—è2])
5. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã–±–∏—Ä–∞–µ—Ç –≤–∞—Ä–∏–∞–Ω—Ç –∏–ª–∏ –≤–≤–æ–¥–∏—Ç —Å–≤–æ–π –æ—Ç–≤–µ—Ç
6. –ü–æ–≤—Ç–æ—Ä—è–µ—Ç—Å—è 3-5 —Ä–∞–∑
7. AI –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Ñ–∏–Ω–∞–ª—å–Ω—É—é roadmap —Å –º–∞—Ä–∫–µ—Ä–æ–º <!-- AI_GENERATED -->
8. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–∂–∏–º–∞–µ—Ç "‚úì –ü—Ä–∏–º–µ–Ω–∏—Ç—å"
9. Roadmap —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ textarea –∏ –≤ Supabase
10. –ü–æ—è–≤–ª—è–µ—Ç—Å—è –∫–Ω–æ–ø–∫–∞ "–°–æ–∑–¥–∞—Ç—å N –∑–∞–¥–∞—á"
```

**Flow —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–¥–∞—á:**
```
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–∂–∏–º–∞–µ—Ç "–°–æ–∑–¥–∞—Ç—å N –∑–∞–¥–∞—á"
2. parser.ts –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –º–∞—Ä–∫–µ—Ä –∏ –ø–∞—Ä—Å–∏—Ç –Ω—É–º–µ—Ä–æ–≤–∞–Ω–Ω—ã–π —Å–ø–∏—Å–æ–∫
3. task-creator.ts –Ω–∞—Ö–æ–¥–∏—Ç –∫–æ–ª–æ–Ω–∫—É "–ù–æ–≤—ã–µ –∑–∞–¥–∞—á–∏" (–∏–ª–∏ –ø–µ—Ä–≤—É—é)
4. –°–æ–∑–¥–∞—ë—Ç –ø–µ—Ä–≤—ã–µ 5 –∑–∞–¥–∞—á –≤ Supabase
5. –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è toast "‚úì –°–æ–∑–¥–∞–Ω–æ N –∑–∞–¥–∞—á"
```

### üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏:

- **Stateless chat:** –í—Å—è –∏—Å—Ç–æ—Ä–∏—è –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ, –∫–∞–∂–¥—ã–π –∑–∞–ø—Ä–æ—Å –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –ø–æ–ª–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç
- **Marker-based:** –ú–∞—Ä–∫–µ—Ä `<!-- AI_GENERATED -->` –¥–ª—è –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ AI-roadmap
- **Numbered list format:** "1. –ó–∞–¥–∞—á–∞", "2. –ó–∞–¥–∞—á–∞" ‚Äî –ø—Ä–æ—Å—Ç–æ–π –∏ –ø–∞—Ä—Å–∏–º—ã–π —Ñ–æ—Ä–º–∞—Ç
- **DeepSeek reuse:** –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π API –∫–ª—é—á
- **Toast notifications:** –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤ –ø—Ä–∞–≤–æ–º –Ω–∏–∂–Ω–µ–º —É–≥–ª—É
- **Error handling:** API –æ—à–∏–±–∫–∏, –ø—É—Å—Ç—ã–µ –æ—Ç–≤–µ—Ç—ã, –Ω–µ–≤–∞–ª–∏–¥–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç

### üìù –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:

1. **–ó–∞–ø—É—Å—Ç–∏—Ç—å dev —Å–µ—Ä–≤–µ—Ä:**
   ```bash
   npm run dev
   ```

2. **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:**
   - –û—Ç–∫—Ä—ã—Ç—å Kanban –¥–æ—Å–∫—É
   - –ù–∞–∂–∞—Ç—å –Ω–∞ RoadmapPanel –≤–Ω–∏–∑—É —ç–∫—Ä–∞–Ω–∞
   - –ù–∞–∂–∞—Ç—å –∫–Ω–æ–ø–∫—É ‚ú® AI
   - –í–≤–µ—Å—Ç–∏ –∏–¥–µ—é –ø—Ä–æ–µ–∫—Ç–∞
   - –û—Ç–≤–µ—Ç–∏—Ç—å –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã AI
   - –ü–æ–ª—É—á–∏—Ç—å roadmap
   - –ù–∞–∂–∞—Ç—å "–°–æ–∑–¥–∞—Ç—å N –∑–∞–¥–∞—á"
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –∑–∞–¥–∞—á–∏ —Å–æ–∑–¥–∞–ª–∏—Å—å

3. **–†–∞–∑–≤–µ—Ä–Ω—É—Ç—å –Ω–∞ –ø—Ä–æ–¥–∞–∫—à–Ω:**
   ```bash
   npm run build:cloudflare
   npm run deploy:cloudflare
   ```

### üöÄ –í–æ–∑–º–æ–∂–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è –≤ –±—É–¥—É—â–µ–º:

- –°–æ—Ö—Ä–∞–Ω—è—Ç—å –∏—Å—Ç–æ—Ä–∏—é AI-–¥–∏–∞–ª–æ–≥–æ–≤ –≤ –ë–î
- –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ AI-roadmap —Å —Ä–µ–≥–µ–Ω–µ—Ä–∞—Ü–∏–µ–π
- –≠–∫—Å–ø–æ—Ä—Ç roadmap –≤ markdown/PDF
- –®–∞–±–ª–æ–Ω—ã roadmap –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤ –ø—Ä–æ–µ–∫—Ç–æ–≤
- –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã –∏ —Ç–µ–≥–∏ –¥–ª—è –∑–∞–¥–∞—á
- –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Å–æ–∑–¥–∞–≤–∞–µ–º—ã—Ö –∑–∞–¥–∞—á
