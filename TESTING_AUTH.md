# üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ - –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è

**–í–µ—Ç–∫–∞:** `feature/supabase-auth-integration`
**Dev Server:** http://localhost:3001

---

## ‚úÖ –ß—Ç–æ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

### –§–∞–∑–∞ 1: Supabase Setup
- ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (@supabase/ssr)
- ‚úÖ –°–æ–∑–¥–∞–Ω—ã –∫–ª–∏–µ–Ω—Ç—ã (browser, server)
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–µ–Ω middleware –¥–ª—è protected routes
- ‚úÖ –°–æ–∑–¥–∞–Ω .env.example

### –ë–∞–∑–∞ –î–∞–Ω–Ω—ã—Ö
- ‚úÖ SQL –º–∏–≥—Ä–∞—Ü–∏—è (001_initial_schema.sql)
- ‚úÖ –¢–∞–±–ª–∏—Ü—ã: profiles, boards, columns, tasks
- ‚úÖ RLS –ø–æ–ª–∏—Ç–∏–∫–∏ –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è –∏ –¥–æ—Å–∫–∏ –ø—Ä–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏

### Auth –°—Ç—Ä–∞–Ω–∏—Ü—ã
- ‚úÖ [Login page](http://localhost:3001/login)
- ‚úÖ [Signup page](http://localhost:3001/signup)
- ‚úÖ Premium dark theme

### UI –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- ‚úÖ UserMenu —Å email –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- ‚úÖ –ö–Ω–æ–ø–∫–∞ –≤—ã—Ö–æ–¥–∞ (Logout)
- ‚úÖ –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –∞–≤–∞—Ç–∞—Ä —Å –∏–Ω–∏—Ü–∏–∞–ª–∞–º–∏

---

## üîß –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ Auth Flow

### 1. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Supabase

#### 1.1 –°–æ–∑–¥–∞—Ç—å –ø—Ä–æ–µ–∫—Ç
1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ https://supabase.com
2. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç
3. –î–æ–∂–¥–∏—Ç–µ—Å—å —Ä–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏—è (2-3 –º–∏–Ω—É—Ç—ã)

#### 1.2 –ü–æ–ª—É—á–∏—Ç—å credentials
1. –û—Ç–∫—Ä–æ–π—Ç–µ Settings ‚Üí API
2. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ:
   - Project URL
   - anon public key

#### 1.3 –ü—Ä–∏–º–µ–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é
1. –û—Ç–∫—Ä–æ–π—Ç–µ SQL Editor –≤ Supabase
2. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ `supabase/migrations/001_initial_schema.sql`
3. –í—ã–ø–æ–ª–Ω–∏—Ç–µ SQL

#### 1.4 –ù–∞—Å—Ç—Ä–æ–∏—Ç—å .env.local
```bash
# –û—Ç–∫—Ä–æ–π—Ç–µ .env.local –∏ –∑–∞–º–µ–Ω–∏—Ç–µ:
NEXT_PUBLIC_SUPABASE_URL=https://–≤–∞—à-–ø—Ä–æ–µ–∫—Ç.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=–≤–∞—à-anon-key
```

### 2. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å dev —Å–µ—Ä–≤–µ—Ä
```bash
# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ç–µ–∫—É—â–∏–π (Ctrl+C)
# –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–Ω–æ–≤–∞:
npm run dev
```

### 3. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏

1. –û—Ç–∫—Ä–æ–π—Ç–µ http://localhost:3001/signup
2. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ —Ñ–æ—Ä–º—É:
   - –ò–º—è: –¢–µ—Å—Ç–æ–≤—ã–π –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
   - Email: test@example.com
   - –ü–∞—Ä–æ–ª—å: test123456
3. –ù–∞–∂–º–∏—Ç–µ "–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è"

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —É—Å–ø–µ—à–Ω–∞
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –≤—Ö–æ–¥
- ‚úÖ –†–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ –≥–ª–∞–≤–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É
- ‚úÖ –í —à–∞–ø–∫–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è email –∏ –∏–º—è

### 4. –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤ Supabase

1. –û—Ç–∫—Ä–æ–π—Ç–µ Supabase ‚Üí Table Editor
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç–∞–±–ª–∏—Ü—ã:
   - `profiles` - —Å–æ–∑–¥–∞–Ω–∞ –∑–∞–ø–∏—Å—å
   - `boards` - —Å–æ–∑–¥–∞–Ω–∞ –¥–æ—Å–∫–∞ "My Kanban Board"
   - `columns` - —Å–æ–∑–¥–∞–Ω—ã 3 –∫–æ–ª–æ–Ω–∫–∏ (To Do, In Progress, Done)

### 5. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –í—ã—Ö–æ–¥–∞

1. –ù–∞–∂–º–∏—Ç–µ –Ω–∞ –∏–∫–æ–Ω–∫—É –≤—ã—Ö–æ–¥–∞ —Å–ø—Ä–∞–≤–∞ –≤–≤–µ—Ä—Ö—É
2. –î–æ–ª–∂–µ–Ω –ø—Ä–æ–∏–∑–æ–π—Ç–∏ —Ä–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ /login

### 6. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –í—Ö–æ–¥–∞

1. –û—Ç–∫—Ä–æ–π—Ç–µ http://localhost:3001/login
2. –í–≤–µ–¥–∏—Ç–µ email –∏ –ø–∞—Ä–æ–ª—å
3. –ù–∞–∂–º–∏—Ç–µ "–í–æ–π—Ç–∏"

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ –£—Å–ø–µ—à–Ω—ã–π –≤—Ö–æ–¥
- ‚úÖ –†–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ –≥–ª–∞–≤–Ω—É—é
- ‚úÖ –î–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è

### 7. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ Protected Routes

1. –í—ã–π–¥–∏—Ç–µ –∏–∑ –∞–∫–∫–∞—É–Ω—Ç–∞
2. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –æ—Ç–∫—Ä—ã—Ç—å http://localhost:3001

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ /login
- ‚úÖ –ù–µ—Ç –¥–æ—Å—Ç—É–ø–∞ –∫ –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ –±–µ–∑ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏

---

## üìù –ü—Ä–æ–≤–µ—Ä–∫–∞ –ö–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

### Login Page
- [ ] –§–æ—Ä–º–∞ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- [ ] –í–∞–ª–∏–¥–∞—Ü–∏—è email —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –í–∞–ª–∏–¥–∞—Ü–∏—è –ø–∞—Ä–æ–ª—è —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –û—à–∏–±–∫–∏ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- [ ] –ö–Ω–æ–ø–∫–∞ "–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è" –≤–µ–¥—ë—Ç –Ω–∞ signup

### Signup Page
- [ ] –§–æ—Ä–º–∞ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- [ ] –í—Å–µ –ø–æ–ª—è –≤–∞–ª–∏–¥–∏—Ä—É—é—Ç—Å—è
- [ ] –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –¥–ª–∏–Ω–∞ –ø–∞—Ä–æ–ª—è = 6 —Å–∏–º–≤–æ–ª–æ–≤
- [ ] –ö–Ω–æ–ø–∫–∞ "–í–æ–π—Ç–∏" –≤–µ–¥—ë—Ç –Ω–∞ login

### Main Page
- [ ] Email –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è
- [ ] –ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è
- [ ] –ê–≤–∞—Ç–∞—Ä —Å –∏–Ω–∏—Ü–∏–∞–ª–∞–º–∏ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è
- [ ] –ö–Ω–æ–ø–∫–∞ –≤—ã—Ö–æ–¥–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –ó–∞–¥–∞—á–∏ –º–æ–∂–Ω–æ –ø–µ—Ä–µ–º–µ—â–∞—Ç—å (drag & drop)

---

## üêõ –í–æ–∑–º–æ–∂–Ω—ã–µ –ü—Ä–æ–±–ª–µ–º—ã

### 1. "Invalid API Key"
**–ü—Ä–∏—á–∏–Ω–∞:** –ù–µ–≤–µ—Ä–Ω—ã–π –∫–ª—é—á –≤ .env.local
**–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–ª—é—á–∏ –≤ Supabase Settings ‚Üí API

### 2. "Database error"
**–ü—Ä–∏—á–∏–Ω–∞:** –ú–∏–≥—Ä–∞—Ü–∏—è –Ω–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∞
**–†–µ—à–µ–Ω–∏–µ:** –í—ã–ø–æ–ª–Ω–∏—Ç–µ SQL –∏–∑ 001_initial_schema.sql

### 3. Middleware redirects to login
**–ü—Ä–∏—á–∏–Ω–∞:** –ù–µ—Ç –∞–∫—Ç–∏–≤–Ω–æ–π —Å–µ—Å—Å–∏–∏
**–†–µ—à–µ–Ω–∏–µ:** –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å –∏–ª–∏ –≤–æ–π–¥–∏—Ç–µ

### 4. Port 3000 is in use
**–ü—Ä–∏—á–∏–Ω–∞:** –î—Ä—É–≥–æ–π –ø—Ä–æ—Ü–µ—Å—Å –Ω–∞ –ø–æ—Ä—Ç—É
**–†–µ—à–µ–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–æ—Ä—Ç 3001 (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)

---

## üìä –°–ª–µ–¥—É—é—â–∏–µ –®–∞–≥–∏

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è auth:

1. **–§–∞–∑–∞ 2:** Auth Integration
   - –î–æ–±–∞–≤–∏—Ç—å social auth (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
   - Email verification (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

2. **–§–∞–∑–∞ 3:** Data Migration
   - –ú–∏–≥—Ä–∏—Ä–æ–≤–∞—Ç—å localStorage ‚Üí Supabase
   - –î–æ–±–∞–≤–∏—Ç—å realtime subscriptions
   - –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å optimistic updates

3. **–§–∞–∑–∞ 4-8:** –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ, Production Ready, CI/CD

---

## üîó –ü–æ–ª–µ–∑–Ω—ã–µ –°—Å—ã–ª–∫–∏

- **Local:** http://localhost:3001
- **Login:** http://localhost:3001/login
- **Signup:** http://localhost:3001/signup
- **Supabase:** https://supabase.com/dashboard
- **Pull Request:** https://github.com/Lavr5000/0-KanBanDoska/pull/new/feature/supabase-auth-integration

---

**–°—Ç–∞—Ç—É—Å:** –ì–æ—Ç–æ–≤–æ –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é!
**–°–ª–µ–¥—É—é—â–∞—è –∑–∞–¥–∞—á–∞:** –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Supabase –ø—Ä–æ–µ–∫—Ç –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å auth flow
