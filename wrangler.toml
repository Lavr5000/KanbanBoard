# Cloudflare Workers configuration for OpenNext
name = "lavr-ai-kanban-doska"
main = ".open-next/worker.js"
compatibility_date = "2024-09-23"

# Assets directory for static files
assets = { directory = ".open-next/assets", binding = "ASSETS" }

# Node.js compatibility
compatibility_flags = ["nodejs_compat"]

# Environment variables
# IMPORTANT: Set these as secrets in Cloudflare Dashboard
# Go to: Workers & Pages → lavr-ai-kanban-doska → Settings → Variables and Secrets
[vars]
# Public variables (safe to commit)
NEXT_PUBLIC_SUPABASE_URL = "https://ygxnblhpjdhqjgcmcxgu.supabase.co"
NEXT_PUBLIC_SUPABASE_ANON_KEY = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InlneG5ibGhwamRocWpnY21jeGd1Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzU4MDM2ODksImV4cCI6MjA1MTM3OTY4OX0.wJFpVxQSvS8eYpFzqQ2xKLJRzmhfJiYPKF5NqFqwJpE"

# Secret variables (DO NOT commit - use Cloudflare Secrets):
# DEEPSEEK_API_KEY - Set in Cloudflare Dashboard
# SUPABASE_SERVICE_ROLE_KEY - Set in Cloudflare Dashboard
