# PHASE 3 ERROR REPORT - Kanban Board 2.0

**–î–∞—Ç–∞ —Å–±–æ—Ä–∞:** 2025-12-27
**–ö–æ–º–º–∏—Ç:** badf5b5 (docs: add quick reference guide for AI agents)
**–°—Ç–∞—Ç—É—Å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:** ‚úÖ –°–æ–±–∏—Ä–∞–µ—Ç—Å—è —É—Å–ø–µ—à–Ω–æ, –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –±–µ–∑ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –æ—à–∏–±–æ–∫
**URL:** http://localhost:3000

---

## üìã –ö—Ä–∞—Ç–∫–∞—è —Å–≤–æ–¥–∫–∞

**–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏:** 0
**–í–∞–∂–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã:** 5
**–ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è:** 3
**–ò–∑–≤–µ—Å—Ç–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:** 3

---

## üî¥ –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏

–ù–µ—Ç –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –æ—à–∏–±–æ–∫, –ø—Ä–µ–ø—è—Ç—Å—Ç–≤—É—é—â–∏—Ö —Ä–∞–±–æ—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

---

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### 1. –ù–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Ç–∏–ø–∞ ID (string | number)

**–§–∞–π–ª—ã:**
- `src/entities/task/model/types.ts:1` - –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç–∏–ø–∞ `Id = string | number`
- `src/entities/task/model/store.ts:52` - –≥–µ–Ω–µ—Ä–∞—Ü–∏—è ID –∫–∞–∫ `number`

**–ü—Ä–æ–±–ª–µ–º–∞:**
```typescript
// types.ts
export type Id = string | number;

// store.ts:52
id: Math.floor(Math.random() * 10001), // –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç number
```

**–†–∏—Å–∫:**
- –ù–µ—Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç—å —Ç–∏–ø–æ–≤ –º–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ –æ—à–∏–±–∫–∞–º —Å—Ä–∞–≤–Ω–µ–Ω–∏—è
- –ü—Ä–∏ –º–∏–≥—Ä–∞—Ü–∏–∏ –Ω–∞ Supabase (Phase 3) ID –±—É–¥—É—Ç UUID (string)

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:**
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ `string` –¥–ª—è ID
- –ó–∞–º–µ–Ω–∏—Ç—å –≥–µ–Ω–µ—Ä–∞—Ü–∏—é –Ω–∞ `crypto.randomUUID()` –∏–ª–∏ –≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Å—Ç—Ä–æ–∫–æ–≤—ã–µ ID

---

### 2. –ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–π crash –ø—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ tags

**–§–∞–π–ª:** `src/entities/task/ui/TaskCard.tsx:103`

**–ü—Ä–æ–±–ª–µ–º–∞:**
```typescript
{task.tags.map((tag) => ( // –ï—Å–ª–∏ tags undefined - crash
  <span key={tag}>...
```

**–†–∏—Å–∫:**
- Runtime –æ—à–∏–±–∫–∞ –µ—Å–ª–∏ `task.tags` –Ω–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω
- –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –º–æ–∂–µ—Ç —É–ø–∞—Å—Ç—å –ø—Ä–∏ —Ä–µ–Ω–¥–µ—Ä–µ –∑–∞–¥–∞—á–∏

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:**
```typescript
{task.tags?.map((tag) => ( // –¥–æ–±–∞–≤–∏—Ç—å optional chaining
  <span key={tag}>...
```

---

### 3. –ù–µ—Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

**–§–∞–π–ª:** `src/entities/task/model/store.ts:104`

**–ü—Ä–æ–±–ª–µ–º–∞:**
```typescript
done: tasks.filter((t) => t.columnId === "revision").length, // Revision = done ???
```

**–†–∏—Å–∫:**
- –ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π —Ä–∞—Å—á–µ—Ç –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
- –í `Sidebar.tsx:59` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –≤–∏–¥—è—Ç –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—É—é —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:**
- –°–æ–∑–¥–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω—É—é –∫–æ–ª–æ–Ω–∫—É "done" –∏–ª–∏
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–æ–ª–µ `task.status === "completed"`

---

### 4. –ù–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ optimistic updates

**–§–∞–π–ª:** `src/widgets/board/ui/Board.tsx:82-97`

**–ü—Ä–æ–±–ª–µ–º–∞:**
```typescript
// onDragOver –∏—Å–ø–æ–ª—å–∑—É–µ—Ç moveTask, –Ω–æ –Ω–µ—Ç rollback –ø—Ä–∏ –æ—à–∏–±–∫–µ
useBoardStore.getState().moveTask(activeId, overTaskObj.columnId);
```

**–†–∏—Å–∫:**
- –ü—Ä–∏ –º–∏–≥—Ä–∞—Ü–∏–∏ –Ω–∞ Supabase (Phase 3) –Ω—É–∂–µ–Ω –º–µ—Ö–∞–Ω–∏–∑–º –æ—Ç–∫–∞—Ç–∞
- –°–µ–π—á–∞—Å –∏–∑–º–µ–Ω–µ–Ω–∏—è –º–≥–Ω–æ–≤–µ–Ω–Ω—ã–µ, –Ω–æ –≤ –±—É–¥—É—â–µ–º –º–æ–≥—É—Ç –±—ã—Ç—å –æ—à–∏–±–∫–∏ —Å–µ—Ç–∏

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:**
- –ü–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å –º–µ—Ö–∞–Ω–∏–∑–º optimistic updates —Å rollback
- –î–æ–±–∞–≤–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫ –¥–ª—è moveTask

---

### 5. Confirm dialog –±–ª–æ–∫–∏—Ä—É–µ—Ç UI

**–§–∞–π–ª:** `src/entities/task/model/store.ts:82`

**–ü—Ä–æ–±–ª–µ–º–∞:**
```typescript
if (confirm("–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å –í–°–ï –∑–∞–¥–∞—á–∏?")) {
  set({ tasks: [] });
}
```

**–†–∏—Å–∫:**
- Native `confirm()` –±–ª–æ–∫–∏—Ä—É–µ—Ç JavaScript execution
- –ü–ª–æ—Ö–æ–π UX –¥–ª—è —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:**
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–∞—Å—Ç–æ–º–Ω—ã–π Modal –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
- –î–æ–±–∞–≤–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ `isConfirmModalOpen` –≤ store

---

## üí° –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è (–Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–æ, –Ω–æ –Ω—É–∂–Ω–æ –∏—Å–ø—Ä–∞–≤–∏—Ç—å)

### W1. Debug console.log –≤ production –∫–æ–¥–µ

**–§–∞–π–ª—ã:**
- `src/widgets/board/ui/Board.tsx`: 10 console.log
- `src/entities/task/model/store.ts`: 2 console.log
- `src/widgets/sidebar/ui/Sidebar.tsx`: 1 console.log

**–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ:** 13 console.log statements

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:**
- –£–¥–∞–ª–∏—Ç—å –∏–ª–∏ –∑–∞–º–µ–Ω–∏—Ç—å –Ω–∞ debug –±–∏–±–ª–∏–æ—Ç–µ–∫—É
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å environment variable –¥–ª—è –≤–∫–ª—é—á–µ–Ω–∏—è –ª–æ–≥–æ–≤

---

### W2. Hardcoded –∑–Ω–∞—á–µ–Ω–∏—è

**–§–∞–π–ª—ã:**
- `src/widgets/sidebar/ui/Sidebar.tsx:133` - "Dashboard –¥–∏–∑–∞–π–Ω" (hardcoded)
- `src/entities/task/model/store.ts:58` - "UI" (hardcoded tag)

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:**
- –í—ã–Ω–µ—Å—Ç–∏ –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –∏–ª–∏ —É–±—Ä–∞—Ç—å

---

### W3. –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö

**–ü—Ä–æ–±–ª–µ–º–∞:**
- –ù–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∑–∞–¥–∞—á–∏ (content, priority, type)
- –ù–µ—Ç –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –¥–ª–∏–Ω—ã –∫–æ–Ω—Ç–µ–Ω—Ç–∞
- –ù–µ—Ç —Å–∞–Ω–∏—Ç–∏–∑–∞—Ü–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –≤–≤–æ–¥–∞

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:**
- –î–æ–±–∞–≤–∏—Ç—å Zod schema (Phase 6 –≤ roadmap)
- –î–æ–±–∞–≤–∏—Ç—å client-side –≤–∞–ª–∏–¥–∞—Ü–∏—é –≤ —Ñ–æ—Ä–º–∞—Ö

---

## üìå –ò–∑–≤–µ—Å—Ç–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è (–∑–∞–¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω—ã —Ä–∞–Ω–µ–µ)

### L1. localStorage-only persistence
- –î–∞–Ω–Ω—ã–µ –Ω–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É—é—Ç—Å—è –º–µ–∂–¥—É —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º–∏
- **–†–µ—à–µ–Ω–∏–µ:** Phase 1-3 (Supabase integration)

### L2. –ù–µ—Ç –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
- –í—Å–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –≤–∏–¥—è—Ç –æ–¥–Ω–∏ –¥–∞–Ω–Ω—ã–µ
- **–†–µ—à–µ–Ω–∏–µ:** Phase 2 (Auth integration)

### L3. –ù–µ—Ç —Ç–µ—Å—Ç–æ–≤
- 0% code coverage
- **–†–µ—à–µ–Ω–∏–µ:** Phase 4-5 (Unit + E2E tests)

---

## ‚úÖ –ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –æ—Ç–ª–∏—á–Ω–æ

- ‚úÖ –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å–æ–±–∏—Ä–∞–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫ TypeScript
- ‚úÖ Build –ø—Ä–æ—Ö–æ–¥–∏—Ç —É—Å–ø–µ—à–Ω–æ
- ‚úÖ Dev server –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ Drag & Drop —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ –í—Å–µ UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Ä–µ–Ω–¥–µ—Ä—è—Ç—Å—è
- ‚úÖ –ú–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞ —Ä–∞–±–æ—Ç–∞—é—Ç
- ‚úÖ Zustand store —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ localStorage persistence —Ä–∞–±–æ—Ç–∞–µ—Ç

---

## üß™ –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### Terminal Output
```
‚úì Compiled successfully in 7.3s
‚úì Linting and checking validity of types ...
‚úì Generating static pages (4/4)
‚úì Ready in 3.4s
```

### Build Output
```
Route (app)                    Size     First Load JS
‚îå ‚óã /                       25.1 kB        127 kB
‚îî ‚óã /_not-found               995 B        103 kB
+ First Load JS shared      102 kB
```

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –£—Å–ø–µ—à–Ω–æ

---

## üéØ –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### –í—ã—Å–æ–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç (–∏—Å–ø—Ä–∞–≤–∏—Ç—å –ø–µ—Ä–µ–¥ Phase 1)
1. ‚úÖ –ò—Å–ø—Ä–∞–≤–∏—Ç—å —Ç–∏–ø ID (string | number ‚Üí string)
2. ‚úÖ –î–æ–±–∞–≤–∏—Ç—å optional chaining –¥–ª—è task.tags
3. ‚úÖ –ò—Å–ø—Ä–∞–≤–∏—Ç—å —Ä–∞—Å—á–µ—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ (done !== revision)

### –°—Ä–µ–¥–Ω–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç (–∏—Å–ø—Ä–∞–≤–∏—Ç—å –≤–æ –≤—Ä–µ–º—è Phase 3)
4. ‚è≥ –ü–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å optimistic updates —Å rollback
5. ‚è≥ –ó–∞–º–µ–Ω–∏—Ç—å confirm() –Ω–∞ Modal

### –ù–∏–∑–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç (–∏—Å–ø—Ä–∞–≤–∏—Ç—å –≤ Phase 6)
6. ‚è≥ –£–¥–∞–ª–∏—Ç—å console.log
7. ‚è≥ –î–æ–±–∞–≤–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é –¥–∞–Ω–Ω—ã—Ö
8. ‚è≥ –£–±—Ä–∞—Ç—å hardcoded –∑–Ω–∞—á–µ–Ω–∏—è

---

## üìù –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è —Å–ª–µ–¥—É—é—â–∏—Ö —à–∞–≥–æ–≤

### –ü–µ—Ä–µ–¥ –Ω–∞—á–∞–ª–æ–º Phase 1 (Supabase Setup):
1. **–ò—Å–ø—Ä–∞–≤–∏—Ç—å –Ω–∞–π–¥–µ–Ω–Ω—ã–µ –≤–∞–∂–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã** (ID, tags, —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞)
2. **–°–æ–∑–¥–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω—É—é –≤–µ—Ç–∫—É** –¥–ª—è Supabase –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
3. **–î–æ–±–∞–≤–∏—Ç—å .env.example** —Å required environment variables
4. **–°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ç–µ–∫—É—â—É—é working –≤–µ—Ä—Å–∏—é** –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–π –≤–µ—Ç–∫–µ

### –í–æ –≤—Ä–µ–º—è Phase 1-3:
1. –ú–∏–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ UUID –¥–ª—è –≤—Å–µ—Ö ID
2. –î–æ–±–∞–≤–∏—Ç—å error boundaries
3. –ü–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å rollback –º–µ—Ö–∞–Ω–∏–∑–º –¥–ª—è optimistic updates

### –ü–æ—Å–ª–µ Phase 3:
1. –ü—Ä–æ–≤–µ—Å—Ç–∏ –ø–æ–ª–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (Phase 4-5)
2. –î–æ–±–∞–≤–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é (Phase 6)
3. –û—á–∏—Å—Ç–∏—Ç—å debug –∫–æ–¥

---

## üìä –ú–µ—Ç—Ä–∏–∫–∏ –∫–æ–¥–∞

- **TypeScript –æ—à–∏–±–∫–∏:** 0
- **Build –æ—à–∏–±–∫–∏:** 0
- **Runtime –æ—à–∏–±–∫–∏:** 0
- **Console warnings:** 0
- **Code coverage:** 0% (—Ç–µ—Å—Ç—ã –Ω–µ –Ω–∞–ø–∏—Å–∞–Ω—ã)

---

## üîó –°–≤—è–∑–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

- [–î–æ—Ä–æ–∂–Ω–∞—è –∫–∞—Ä—Ç–∞](tasks/roadmap-supabase-testing.md)
- [Progress Tracker](tasks/progress.md)
- [–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞](docs/2025-12-26-roadmap-design.md)

---

**–û—Ç—á–µ—Ç —Å–æ–∑–¥–∞–Ω:** –õ–æ–∫–∞–ª—å–Ω—ã–º –∞–≥–µ–Ω—Ç–æ–º (Claude Code)
**–°–ª–µ–¥—É—é—â–∏–π —à–∞–≥:** –ò—Å–ø—Ä–∞–≤–∏—Ç—å –≤—ã—Å–æ–∫–æ–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã, –∑–∞—Ç–µ–º –Ω–∞—á–∞—Ç—å Phase 1
