# Рабочий процесс Kanban Board 2.0

**Дата:** 2025-12-27
**Версия:** 1.0

---

## Обзор

Этот проект работает **исключительно по дорожной карте** (`tasks/roadmap-supabase-testing.md`).

## Роли

| Роль | Кто | Ответственность |
|------|-----|-----------------|
| Пользователь | Вы | Ставит задачи, принимает результат |
| Веб-агент | Удаленный Claude Code | Пишет код, тесты, пушит в GitHub |
| Локальный агент | Этот Claude Code | Проверяет работу, тестирует, коммитит отчеты |

---

## Цикл работы для одной задачи

### Шаг 1: Пользователь ставит задачу
- Описывает проблему или новую функциональность
- Указывает приоритет

### Шаг 2: Создание ticket для веб-агента
- Локальный агент создает файл `tasks/tickets/TICKET-XXX.md`
- Описывает:
  - Что нужно сделать
  - Какой тест пройти
  - Критерии успеха

### Шаг 3: Веб-агент выполняет работу
- Пишет код (простой, минимум изменений)
- Пишет тесты (unit + E2E если нужно)
- Запускает тесты - **все должны проходить**
- Пушит в ветку GitHub

### Шаг 4: Локальный агент проверяет
- Pull из GitHub
- Запускает dev-сервер
- Проверяет функционал вручную
- Запускает тесты
- Создает отчет

### Шаг 5: Принятие или возврат
- **Если все работает:** Merge в main, обновляем PROGRESS.md
- **Если есть баги:** Создаем новый ticket, возвращаемся к шагу 2

---

## Текущий статус

**Фаза:** 3 - Миграция данных в Supabase

**Статус фазы:** В процессе (найдены баги)

**Последний коммит веб-агента:** (заполняется)

**Текущая ветка:** `claude/setup-supabase-TUKCP`

---

## Текущие баги (для ticket)

| Баг | Приоритет | Статус |
|-----|-----------|--------|
| Drag & Drop не работает | КРИТИЧЕСКИЙ | Новый ticket |
| Создание задач не работает | КРИТИЧЕСКИЙ | Новый ticket |
| Кнопки навигации не работают | ВЫСОКИЙ | Новый ticket |
| Команда - фиктивные данные | СРЕДНИЙ | Новый ticket |

---

## Правила для агентов

### Для веб-агента:
1. **НИКОГДА** не коммитить сломанный код
2. Все тесты должны проходить перед пушем
3. Минимум изменений - только то, что нужно
4. Не быть ленивым - найти root cause проблемы
5. Написать тесты для каждой новой функции

### Для локального агента:
1. НЕ ИСПРАВЛЯТЬ код - только проверять и сообщать
2. Создавать подробные отчеты о багах
3. Обновлять PROGRESS.md после каждой задачи
4. Коммитить отчеты в git

---

## Git ветки

| Ветка | Назначение |
|-------|------------|
| `main` | Рабочий код |
| `claude/PHASE-X-TASK-NAME` | Ветка для задачи |
| `testing-roadmap` | Архив дорожной карты |

---

## Дорожная карта

Подробности в [`tasks/roadmap-supabase-testing.md`](tasks/roadmap-supabase-testing.md)

**Кратко:**
- Фаза 1: Supabase настройка ✅ (выполнено веб-агентом)
- Фаза 2: Auth ✅ (выполнено веб-агентом)
- Фаза 3: Миграция данных ⚠️ (в процессе, найдены баги)
- Фаза 4: Unit тесты (следующая)
- Фаза 5+: E2E, Production Ready, CI/CD
